import{w as l}from"./singletons-9c55d055.js";import{Z as j,a5 as M,a6 as S,C as I,S as O,i as $,s as D,L as F,k as G,l as H,m as Q,h as C,n as q,b as L,M as X,N as Z,O as z,f as B,t as J}from"./index-e0c17b50.js";class K{constructor(e){this.minpos=e.minpos||0,this.maxpos=e.maxpos||100,this.minval=Math.log(e.minval||1),this.maxval=Math.log(e.maxval||9e3),this.scale=(this.maxval-this.minval)/(this.maxpos-this.minpos)}value(e){return Math.exp((e-this.minpos)*this.scale+this.minval)}position(e){return this.minpos+(Math.log(e)-this.minval)/this.scale}}//! tuner
const st=l({note:"",deviation:0}),et=l({}),nt=l(!1);//! metronome
const ot=l(100),it=l(4),rt=l(!1),N=50,P=8e3,U=440,at=l(N),lt=l(0),T=new K({minpos:N,maxpos:P,minval:N,maxval:P}),ft=l(T),ct=T.position(U);//! selected mode can be 'TuneByPopularInstruments' or 'TuneByFrequencySelection'
const mt=l("");function A(t){return Object.prototype.toString.call(t)==="[object Date]"}function w(t,e,n,r){if(typeof n=="number"||A(n)){const o=r-n,s=(n-e)/(t.dt||1/60),i=t.opts.stiffness*o,a=t.opts.damping*s,f=(i-a)*t.inv_mass,m=(s+f)*t.dt;return Math.abs(m)<t.opts.precision&&Math.abs(o)<t.opts.precision?r:(t.settled=!1,A(n)?new Date(n.getTime()+m):n+m)}else{if(Array.isArray(n))return n.map((o,s)=>w(t,e[s],n[s],r[s]));if(typeof n=="object"){const o={};for(const s in n)o[s]=w(t,e[s],n[s],r[s]);return o}else throw new Error(`Cannot spring ${typeof n} values`)}}function pt(t,e={}){const n=l(t),{stiffness:r=.15,damping:o=.8,precision:s=.01}=e;let i,a,f,m=t,u=t,c=1,b=0,g=!1;function _(h,p={}){u=h;const R=f={};if(t==null||p.hard||d.stiffness>=1&&d.damping>=1)return g=!0,i=M(),m=h,n.set(t=u),Promise.resolve();if(p.soft){const y=p.soft===!0?.5:+p.soft;b=1/(y*60),c=0}return a||(i=M(),g=!1,a=S(y=>{if(g)return g=!1,a=null,!1;c=Math.min(c+b,1);const E={inv_mass:c,opts:d,settled:!0,dt:(y-i)*60/1e3},x=w(E,m,t,u);return i=y,m=t,n.set(t=x),E.settled&&(a=null),!E.settled})),new Promise(y=>{a.promise.then(()=>{R===f&&y()})})}const d={set:_,update:(h,p)=>_(h(u,t),p),subscribe:n.subscribe,stiffness:r,damping:o,precision:s};return d}function k(t,e){if(t===e||t!==t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const r=e.map((o,s)=>k(t[s],o));return o=>r.map(s=>s(o))}if(n==="object"){if(!t||!e)throw new Error("Object cannot be null");if(A(t)&&A(e)){t=t.getTime(),e=e.getTime();const s=e-t;return i=>new Date(t+i*s)}const r=Object.keys(e),o={};return r.forEach(s=>{o[s]=k(t[s],e[s])}),s=>{const i={};return r.forEach(a=>{i[a]=o[a](s)}),i}}if(n==="number"){const r=e-t;return o=>t+o*r}throw new Error(`Cannot interpolate ${n} values`)}function dt(t,e={}){const n=l(t);let r,o=t;function s(i,a){if(t==null)return n.set(t=i),Promise.resolve();o=i;let f=r,m=!1,{delay:u=0,duration:c=400,easing:b=I,interpolate:g=k}=j(j({},e),a);if(c===0)return f&&(f.abort(),f=null),n.set(t=o),Promise.resolve();const _=M()+u;let d;return r=S(h=>{if(h<_)return!0;m||(d=g(t,i),typeof c=="function"&&(c=c(t,i)),m=!0),f&&(f.abort(),f=null);const p=h-_;return p>c?(n.set(t=i),!1):(n.set(t=d(b(p/c))),!0)}),r.promise}return{set:s,update:(i,a)=>s(i(o,t),a),subscribe:n.subscribe}}function V(t){let e,n;const r=t[3].default,o=F(r,t,t[2],null);return{c(){e=G("h1"),o&&o.c(),this.h()},l(s){e=H(s,"H1",{class:!0});var i=Q(e);o&&o.l(i),i.forEach(C),this.h()},h(){q(e,"class",t[0])},m(s,i){L(s,e,i),o&&o.m(e,null),n=!0},p(s,[i]){o&&o.p&&(!n||i&4)&&X(o,r,s,s[2],n?z(r,s[2],i,null):Z(s[2]),null)},i(s){n||(B(o,s),n=!0)},o(s){J(o,s),n=!1},d(s){s&&C(e),o&&o.d(s)}}}const W="text-2xl md:text-3xl font-bold uppercase text-red-900";function Y(t,e,n){let{$$slots:r={},$$scope:o}=e,{className:s=""}=e,i=`${W} ${s}`;return t.$$set=a=>{"className"in a&&n(1,s=a.className),"$$scope"in a&&n(2,o=a.$$scope)},[i,s,o,r]}class ht extends O{constructor(e){super(),$(this,e,Y,V,D,{className:1})}}export{ht as H,N as M,U as S,et as a,nt as b,ot as c,it as d,pt as e,at as f,lt as g,P as h,ct as i,mt as j,ft as l,rt as m,st as s,dt as t};
